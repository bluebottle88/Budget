(this.webpackJsonptestapp=this.webpackJsonptestapp||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(8),l=n.n(c),s=(n(13),n(7)),r=n(2),o=n(5),u=(n(14),n(15),n(0)),d=function(e){return Object(u.jsx)("div",{className:"Card",children:e.children})},j=(n(17),window.localStorage),b=0;j.getItem("dataBalance")&&(b=j.getItem("dataBalance"));var x,p=function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),i=n[0],c=n[1],l=function(){var e,t=new Date,n=new Date(t.getTime()),a=new Date;a.setDate(28);var i=a.getDay();e=0===i?26:6===i?27:28,n.setMonth(t.getMonth()+1),n.setDate(0);var c=n.getDate()>t.getDate()?n.getDate()-t.getDate():0;return t.getDate()>=e?c+e:e-t.getDate()}(),s=Object(a.useReducer)((function(e,t){if("FIELD_BLUR"===t.type){var n=t.value,a=n-e.expensesTotal;return{balance:n,remainingBal:a,perday:a/l,expensesTotal:e.expensesTotal}}if("EXPENSE_CHANGE"===t.type){var i=e.balance-t.value,c=i/l;return{balance:e.balance,remainingBal:i,perday:c,expensesTotal:t.value}}return e}),{balance:b,remainingBal:0,perday:0,expensesTotal:e.t},(function(){var t=b-e.t;return{balance:b,remainingBal:t,perday:t/l,expensesTotal:e.t}})),o=Object(r.a)(s,2),x=o[0],p=o[1];Object(a.useEffect)((function(){p({type:"EXPENSE_CHANGE",value:e.t})}),[e.t]);return Object(u.jsxs)(d,{children:[!1===i?Object(u.jsxs)("h1",{className:"balance",onClick:function(){c(!i)},children:["\xa3",x.balance]}):Object(u.jsx)("div",{children:Object(u.jsx)("input",{className:"balinput",defaultValue:x.balance,onBlur:function(e){var t=e.target.value;j.setItem("dataBalance",t),p({type:"FIELD_BLUR",value:e.target.value}),c(!i)},autoFocus:!0})}),Object(u.jsxs)("h2",{className:"remaining",children:["\xa3",x.remainingBal.toFixed(2)]}),Object(u.jsxs)("h3",{className:"perday",children:["\xa3",x.perday.toFixed(2)," /day ",l," days until pay"]})]})},O=(n(18),function(e){var t=Object(a.useState)(e.title),n=Object(r.a)(t,2),i=n[0],c=n[1],l=Object(a.useState)(""),s=Object(r.a)(l,2),o=s[0],j=s[1],b=Object(a.useState)(e.clicked),x=Object(r.a)(b,2),p=x[0],O=x[1];Object(a.useEffect)((function(){O(e.clicked),c(e.title),j(e.value)}),[e.clicked,e.title,e.value]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{style:{textAlign:"right",width:"80%",maxWidth:"600px",margin:"5px auto",padding:"8px 0px"},children:Object(u.jsx)("button",{onClick:function(){e.resetClicked(!p),O(!p)},children:!1===p?"Add Expense":"Close"})}),!0===p&&Object(u.jsx)(d,{children:Object(u.jsx)("div",{style:{borderBottom:"3px solid #6F1E51",marginBottom:"1rem"},children:Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.onSub(i,o),c(""),j(""),O(!p)},children:[Object(u.jsx)("div",{children:Object(u.jsx)("label",{children:"Title"})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{onChange:function(e){c(e.target.value)},value:i})}),Object(u.jsx)("div",{children:Object(u.jsx)("label",{children:"Value"})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{onChange:function(e){j(e.target.value)},value:o})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"submit"})})]})})})]})}),v=(n(19),function(e){var t=Object(a.useState)(e.apaid),n=Object(r.a)(t,2),i=n[0],c=n[1];return Object(u.jsxs)("div",{className:"card",style:{flexWrap:"wrap"},children:[Object(u.jsxs)("div",{style:{width:"100%",display:"flex"},children:[Object(u.jsx)("div",{children:e.title}),Object(u.jsxs)("div",{children:["\xa3",e.value.toFixed(2)]}),Object(u.jsx)("div",{className:!0===i?"paid":"notpaid",onClick:function(){c((function(e){return!e})),e.onPaidChange(e.ukey)},children:!0===i?"Paid":"To Pay"})]}),Object(u.jsx)("div",{style:{width:"100%",flexShrink:"0",padding:"1rem"},children:Object(u.jsx)("button",{onClick:function(){e.onDelete(e.ukey)},children:"delete"})})]})}),f=function(e){console.log(e.expenses);var t=function(t){e.onDelete(t)},n=function(t){e.onPaidChange(t)};return Object(u.jsx)(d,{children:e.expenses.map((function(e){return console.log(e),Object(u.jsx)(v,{value:e.value,title:e.title,isPaid:e.isPaid,ukey:e.id,onDelete:t,apaid:e.isPaid,onPaidChange:n},e.id)}))})},g=window.localStorage;x=g.getItem("expenseList")?JSON.parse(g.getItem("expenseList")):[];var h=function(e,t){return e+t};var m=function(){var e=Object(o.useState)(x),t=Object(r.a)(e,2),n=t[0],a=t[1],i=n.map((function(e){return!1===e.isPaid?e.value:0})).reduce(h,0),c=Object(o.useState)(i),l=Object(r.a)(c,2),d=l[0],j=l[1],b=Object(o.useState)(!1),v=Object(r.a)(b,2),m=v[0],y=v[1];return Object(u.jsxs)("div",{style:{paddingBottom:"5rem"},children:[Object(u.jsx)(p,{t:d}),Object(u.jsx)(O,{onSub:function(e,t){y(!1),a((function(n){var a=[].concat(Object(s.a)(n),[{id:Math.random().toString(),title:e,value:parseFloat(t),isPaid:!1}]);g.setItem("expenseList",JSON.stringify(a)),console.log("newE"+a),console.log(d);var i=a.map((function(e){return!1===e.isPaid?e.value:0})).reduce(h,0);return console.log(i),j(i),[].concat(Object(s.a)(n),[{id:Math.random().toString(),title:e,value:parseFloat(t),isPaid:!1}])}))},clicked:m,resetClicked:function(e){y(e)}}),Object(u.jsx)(f,{expenses:n,onDelete:function(e){var t=n.filter((function(t){return t.id!==e}));a(t),g.setItem("expenseList",JSON.stringify(t));var i=t.map((function(e){return!1===e.isPaid?e.value:0})).reduce(h,0);console.log("valueDeleted",i),j(i)},onPaidChange:function(e){var t=n.filter((function(t){return t.id===e}));t=t[0];var i,c=n.map((function(t){return t.id===e?(t.isPaid=!t.isPaid,t):t}));i=!0===t.isPaid?d-t.value:d+t.value,console.log(i,d,t),a(c),g.setItem("expenseList",JSON.stringify(c)),j(i)}})]})};l.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(m,{})}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.0b1cb2cb.chunk.js.map